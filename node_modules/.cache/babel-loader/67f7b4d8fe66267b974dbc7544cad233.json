{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Ordering Food Project\\\\Orering-Food-Project\\\\src\\\\componints\\\\cart\\\\OrderingForm.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { formActions } from \"../../store/form-slice\";\nimport { shopingListActions } from \"../../store/shoping-list-slice\";\nimport { cartShopingActions } from \"../../store/cart-shoping-slice\";\nimport styles from \"./OrderingForm.module.css\";\nimport InputItem from \"./InputItem\";\nimport ButtonForm from \"./ButtonForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderingForm = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const myShopingList = useSelector(state => state.shopingList.myShopingList);\n  const myInputs = useSelector(state => state.form);\n  const nameValid = myInputs.name.trim() !== \"\";\n  const streetValid = myInputs.street.trim() !== \"\";\n  const postalValid = myInputs.postal.trim() !== \"\" && myInputs.postal.length === 4 && !isNaN(+myInputs.postal);\n  const cityValid = myInputs.city.trim() !== \"\";\n  const formValid = nameValid && streetValid && cityValid && postalValid;\n\n  async function sendData(info) {\n    try {\n      dispatch(formActions.changeLoading(true));\n      props.submitingHandler(true);\n      const res = await fetch(\"https://react-66e3f-default-rtdb.firebaseio.com/infos.json\", {\n        method: \"POST\",\n        body: JSON.stringify({ ...info,\n          myElments: myShopingList\n        }),\n        headers: {\n          \"contint-type\": \"application/json\"\n        }\n      });\n\n      if (!res.ok) {\n        throw new Error(\"rong\");\n      }\n    } catch (error) {\n      dispatch(formActions.changeError(error.message));\n    }\n\n    dispatch(shopingListActions.clearShopingList());\n    dispatch(formActions.changeLoading(false));\n    props.submitingHandler(false);\n    props.submitedHandler(true);\n  }\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(formActions.changeInputtoutchs(true));\n\n    if (!formValid) {\n      return;\n    }\n\n    sendData({\n      name: myInputs.name,\n      street: myInputs.street,\n      postal: myInputs.postal,\n      city: myInputs.city\n    });\n    dispatch(formActions.changeInputtoutchs(false));\n    dispatch(formActions.clearInputs());\n    dispatch(cartShopingActions.clearAmount());\n    props.submitedHandler(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: styles.myForm,\n    onSubmit: submitHandler,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.inputss,\n      children: [/*#__PURE__*/_jsxDEV(InputItem, {\n        id: \"Your Name\",\n        inputValid: nameValid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputItem, {\n        id: \"Street\",\n        inputValid: streetValid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputItem, {\n        id: \"Postal Code\",\n        inputValid: postalValid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputItem, {\n        id: \"City\",\n        inputValid: cityValid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderingForm, \"9sy02Bauk4BwGkwfWdmqJ/hA9eE=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = OrderingForm;\nexport default OrderingForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderingForm\");","map":{"version":3,"sources":["C:/Users/user/Desktop/Ordering Food Project/Orering-Food-Project/src/componints/cart/OrderingForm.js"],"names":["React","useSelector","useDispatch","formActions","shopingListActions","cartShopingActions","styles","InputItem","ButtonForm","OrderingForm","props","dispatch","myShopingList","state","shopingList","myInputs","form","nameValid","name","trim","streetValid","street","postalValid","postal","length","isNaN","cityValid","city","formValid","sendData","info","changeLoading","submitingHandler","res","fetch","method","body","JSON","stringify","myElments","headers","ok","Error","error","changeError","message","clearShopingList","submitedHandler","submitHandler","e","preventDefault","changeInputtoutchs","clearInputs","clearAmount","myForm","inputss"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { formActions } from \"../../store/form-slice\";\r\nimport { shopingListActions } from \"../../store/shoping-list-slice\";\r\nimport {  cartShopingActions } from \"../../store/cart-shoping-slice\";\r\nimport styles from \"./OrderingForm.module.css\";\r\nimport InputItem from \"./InputItem\";\r\nimport ButtonForm from \"./ButtonForm\";\r\nconst OrderingForm = (props) => {\r\n  const dispatch = useDispatch();\r\n  const myShopingList = useSelector((state) => state.shopingList.myShopingList);\r\n  const myInputs = useSelector((state) => state.form);\r\n\r\n  const nameValid = myInputs.name.trim() !== \"\";\r\n  const streetValid = myInputs.street.trim() !== \"\";\r\n  const postalValid =\r\n    myInputs.postal.trim() !== \"\" &&\r\n    myInputs.postal.length === 4 &&\r\n    !isNaN(+myInputs.postal);\r\n  const cityValid = myInputs.city.trim() !== \"\";\r\n\r\n  const formValid = nameValid && streetValid && cityValid && postalValid;\r\n\r\n  async function sendData(info) {\r\n    try {\r\n      dispatch(formActions.changeLoading(true));\r\n      props.submitingHandler(true);\r\n      const res = await fetch(\r\n        \"https://react-66e3f-default-rtdb.firebaseio.com/infos.json\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ ...info, myElments: myShopingList }),\r\n          headers: { \"contint-type\": \"application/json\" },\r\n        }\r\n      );\r\n\r\n      if (!res.ok) {\r\n        throw new Error(\"rong\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(formActions.changeError(error.message));\r\n    }\r\n    dispatch(shopingListActions.clearShopingList());\r\n    dispatch(formActions.changeLoading(false));\r\n    props.submitingHandler(false);\r\n    props.submitedHandler(true);\r\n  }\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch(formActions.changeInputtoutchs(true));\r\n    if (!formValid) {\r\n      return;\r\n    }\r\n    sendData({\r\n      name: myInputs.name,\r\n      street: myInputs.street,\r\n      postal: myInputs.postal,\r\n      city: myInputs.city,\r\n    });\r\n\r\n    dispatch(formActions.changeInputtoutchs(false));\r\n    dispatch(formActions.clearInputs());\r\n    dispatch(cartShopingActions.clearAmount());\r\n    props.submitedHandler(false);\r\n  };\r\n\r\n  return (\r\n    <form className={styles.myForm} onSubmit={submitHandler}>\r\n      <div className={styles.inputss}>\r\n        <InputItem id=\"Your Name\" inputValid={nameValid}></InputItem>\r\n        <InputItem id=\"Street\" inputValid={streetValid}></InputItem>\r\n        <InputItem id=\"Postal Code\" inputValid={postalValid}></InputItem>\r\n        <InputItem id=\"City\" inputValid={cityValid}></InputItem>\r\n      </div>\r\n      <ButtonForm />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default OrderingForm;\r\n"]},"metadata":{},"sourceType":"module"}